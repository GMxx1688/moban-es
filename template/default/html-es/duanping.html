<style id="dynamic-style"></style>
<script>
  function generateRandomClassName(prefix) {
    return prefix + Math.random().toString(36).substring(2, 10);
  }

  function getRandomGradient() {
    const gradients = [
      'linear-gradient(to right, #f5f7fa, #c3cfe2)',
      'linear-gradient(to right, #ffecd2, #fcb69f)',
      'linear-gradient(to right, #a1c4fd, #c2e9fb)',
      'linear-gradient(to right, #d4fc79, #96e6a1)',
      'linear-gradient(to right, #e0c3fc, #8ec5fc)'
    ];
    return gradients[Math.floor(Math.random() * gradients.length)];
  }

  function getRandomratinga() {
    const ratingas = ['★☆☆☆☆', '★★☆☆☆', '★★★☆☆', '★★★★☆', '★★★★★'];
    return ratingas[Math.floor(Math.random() * ratingas.length)];
  }

  function setDynamicStyles() {
    const containeraClass = generateRandomClassName("containera-");
    const headeraClass = generateRandomClassName("headera-");
    const movieaClass = generateRandomClassName("moviea-");
    const titleaClass = generateRandomClassName("titlea-");
    const reviewaClass = generateRandomClassName("reviewa-");
    const ratingaClass = generateRandomClassName("ratinga-");
    const randomGradient = getRandomGradient();

    const styles = `
      .${containeraClass} {
        max-width: 90%;
        margin: 0 auto;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 10px;
        background: ${randomGradient};
        box-shadow: 0 0 15px rgba(0,0,0,0.1);
      }

      .${headeraClass} {
        text-align: center;
        font-size: 20px;
        font-weight: bold;
        margin-bottom: 14px;
      }

      .${movieaClass} {
        margin-bottom: 20px;
        padding: 15px;
        border: 1px solid #ddd;
        border-radius: 10px;
        background-color: #fff;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
      }

      .${titleaClass} {
        font-size: 22px;
        font-weight: bold;
        margin-bottom: 10px;
        text-align: center;
      }

.${reviewaClass} {
  font-size: 16px;
  line-height: 1.5;
  margin-bottom: 10px;
  white-space: pre-wrap;
}
      .${ratingaClass} {
        color: #FFA500;
        font-size: 18px;
        text-align: center;
      }

      @media (max-width: 768px) {
        .${containeraClass} {
          padding: 8px;
        }

        .${titleaClass} {
          font-size: 18px;
        }

        .${reviewaClass} {
          font-size: 14px;
        }

        .${ratingaClass} {
          font-size: 16px;
        }
      }
    `;

    document.getElementById("dynamic-style").innerHTML = styles;
    document.getElementById("containera").className = containeraClass;
    document.getElementById("headera").className = headeraClass;

    document.querySelectorAll(".moviea").forEach(moviea => moviea.className = movieaClass);
    document.querySelectorAll(".titlea").forEach(titlea => titlea.className = titleaClass);
    document.querySelectorAll(".reviewa").forEach(reviewa => reviewa.className = reviewaClass);
    document.querySelectorAll(".ratinga").forEach(ratinga => {
      ratinga.className = ratingaClass;
      ratinga.innerHTML = `评分: ${getRandomratinga()}`;
    });
  }

  window.onload = setDynamicStyles;
</script>

<div id="containera">
  <div id="headera">站长点评</div>
  <div class="moviea">
    <div class="titlea">{$obj.vod_name}</div>
    <div class="reviewa">{:get_duanping($obj.vod_id)}</div>
    <div class="ratinga">评分: ★★★★☆</div>
  </div>
</div>
